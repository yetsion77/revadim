import{i as U,g as z,r as n,a as T,q as K,o as Q,b as V,j as e,T as _,C as F,X,p as Y,c as J,R as Z}from"./vendor-BLvdbr5_.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function b(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function u(t){if(t.ep)return;t.ep=!0;const a=b(t);fetch(t.href,a)}})();const w={"לשון המקרא":["עַיִן","אֹזֶן","רֶגֶל","יָד","עֵץ","כֶּסֶף","רַפְסוֹדָה","פַּטִּישׁ","קַיִץ","תְּכֵלֶת","צַלַּחַת","גַּלְגַּל","צָהֹב","שָׁחֹר","חוּט","מִכְנָסַיִם","שׁוֹטֵר","עֵט","כֶּלֶב","תְּמוּנה","תַּפּוּחַ","תְּמוּנָה","אֲבַטִּיחַ","אֲבַעְבּוּעָה","אַבְקָה","אַבְרֵךְ","אֱגוֹז","אֲגוֹרָה","אֲגַף","אֲגַרְטָל","אֲדַמְדַּם","אֹרֶן","אֹשֶׁר","איטֵר","אֲכִילָה","אֱלוּל","אַלְמוֹג","אַמְתַּחַת","אָסִיף","אֶקְדָּח","אַרְגָּז","בָּטְנִים","בֹּץ","בִּקֹּרֶת","בִּנְיָן","בָּצָל","בַּרְבּוּר"],"לשון חכמים":["אַבָּא","אִמָּא","מָמוֹן","אֶפְשָׁר","סְנִיף","תְּרִיס","סַנְדַּל","עֲנִיבָה","עֹגֶן","צֹמֶת","הִפְסִיד","אֲוִיר","פִּיל","חָתוּל","חָרוּב","תַּעֲנִית","כְּלוּם","תַּכְשִׁיט","וִילוֹן","תִּינוֹק","חֹטֶם","מִנְיָן","תְּחוּם","עִקָּר","כֹּתֶל","תָּבַע","נָטַל","מָחַל","נִכְנַס","חָזַר","רוצֶה","פֵּרֵשׁ","הִמְתִּין","כָּאן","הֵיכָן","כֵּיצַד","עַכְשָׁו","כְּמוֹתְךָ"],"לשון ימי הביניים":["מֶרְכָּז","קֹטֶב","אֵיכוּת","כַּמּוּת","קֹטֶר","טֶבַע","סֶגֶל","אֹפֶק","תַּאֲרִיךְ","תְּנוּעָה","אַחְדוּת","אֲצִילוּת","דְּבֵקוּת","בֵּינוֹנִיּוּת","דַּיָּנוּת","הִבָּדְלוּת","הִתְפַּתְּחוּת","יַהֲדוּת","מְתִיקוּת","עֲדִיפוּת","פְּנִימִיּוֹת","שַׁיָּכוּת","דֹּפֶק","גַּשְׁמִי","רוּחָנִי","חִיּוּנִי","נֹסַח","קֹבֶץ","אֶזְרָחִי","אֱנוֹשִׁי","אֶפְשָׁרִי","בְּשָׂרִי","הֶכְרֵחִי","הֶקֵּפִי","זְמַנִּי","יוֹמִי","יְסוֹדִי","מוּסָרִי","מוֹפְתִי","מְקוֹמִי","נַפְשִׁי","שְׁלִילָה"],"העברית החדשה":["כְּבִישׁ","וָרֹד","סָגֹל","חַיָּל","רַכֶּבֶת","חֻלְצָה","כָּפְפָה","גְּלִידָה","חֲבִיתָה","מִדְרָכָה","מִלּוֹן","בֻּבָּה","מִשְׂרָד","זֶהוּת","עִפָּרוֹן","קַרְנַף"]},ee={apiKey:"AIzaSyA8E0_5d6qg0Ymu88LhwsMlmBbS2VQo4vs",authDomain:"revadim-dc24c.firebaseapp.com",databaseURL:"https://revadim-dc24c-default-rtdb.firebaseio.com",projectId:"revadim-dc24c",storageBucket:"revadim-dc24c.firebasestorage.app",messagingSenderId:"2601721759",appId:"1:2601721759:web:9c5bf41cea9484086c67aa",measurementId:"G-CMM6E9N0W8"},se=U(ee),k=z(se),q=60,te=()=>{const[i,l]=n.useState("start"),[b,u]=n.useState(""),[t,a]=n.useState(""),[d,S]=n.useState(0),[h,A]=n.useState(q),[L,C]=n.useState([]),[f,I]=n.useState(null),[g,O]=n.useState(!1),[W,M]=n.useState(new Set),[p,E]=n.useState(""),[j,B]=n.useState([]),[v,R]=n.useState(!1);n.useEffect(()=>{const s=T(k,"leaderboard"),r=K(s,Q("score")),o=V(r,c=>{const x=c.val();if(x){const N=Object.values(x).sort((m,y)=>y.score-m.score).slice(0,10);B(N)}});return()=>o()},[]);const G=()=>{const s=Object.entries(w).filter(([m,y])=>y.some($=>!W.has($)));if(s.length===0)return l("end"),null;const r=Math.floor(Math.random()*s.length),[o,c]=s[r],x=c.filter(m=>!W.has(m)),N=x[Math.floor(Math.random()*x.length)];return M(m=>new Set([...m,N])),{word:N,layer:o}},P=()=>{M(new Set);const s=G();s&&(l("playing"),u(s.word),a(s.layer),A(q),S(0),C([]),E(""),R(!1))},D=async s=>{if(g)return;const r=s===t;I(r?"correct":"incorrect"),O(!0),C(c=>[...c,{word:b,layer:t,correct:r}]),r&&S(c=>c+1),await new Promise(c=>setTimeout(c,1e3));const o=G();o&&(u(o.word),a(o.layer)),I(null),O(!1)},H=async()=>{if(!(!p.trim()||v))try{const s=T(k,"leaderboard");await Y(s,{name:p,score:d,date:new Date().toISOString()}),R(!0)}catch(s){console.error("Error saving score:",s)}};return n.useEffect(()=>{if(i!=="playing")return;if(h===0){l("end");return}const s=setInterval(()=>{A(r=>r-1)},1e3);return()=>clearInterval(s)},[h,i]),e.jsxs("div",{dir:"rtl",className:"min-h-screen bg-gradient-to-b from-blue-50 to-blue-100 p-8",children:[i==="start"&&e.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-xl shadow-lg p-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"משחק רובדי הלשון"}),e.jsx("p",{className:"mb-6",children:"זהו את רובד הלשון של המילה המוצגת. יש לכם דקה!"}),j.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-3",children:"טבלת שיאים:"}),e.jsx("div",{className:"space-y-2",children:j.map((s,r)=>e.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium",children:s.name}),e.jsxs("span",{children:[s.score," נקודות"]})]},r))})]}),e.jsx("button",{onClick:P,className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition",children:"התחל משחק"})]}),i==="playing"&&e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-6 h-6"}),e.jsxs("span",{className:"text-xl",children:[Math.floor(h/60),":",(h%60).toString().padStart(2,"0")]})]}),e.jsxs("div",{className:"text-xl font-bold",children:["ניקוד: ",d]})]}),e.jsxs("div",{className:"text-center mb-8 relative",children:[f&&e.jsx("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 
                  ${f==="correct"?"text-green-500":"text-red-500"}`,children:f==="correct"?e.jsx(F,{className:"w-24 h-24"}):e.jsx(X,{className:"w-24 h-24"})}),e.jsx("div",{className:"text-6xl font-bold mb-8",children:b}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.keys(w).map(s=>e.jsx("button",{onClick:()=>D(s),disabled:g,className:`
                      relative overflow-hidden
                      bg-white border-2 border-blue-600 text-blue-600 
                      px-4 py-3 rounded-lg transition-all duration-300
                      hover:bg-blue-50 disabled:opacity-50 
                      ${g&&t===s?"bg-green-100 border-green-600 text-green-600":""}
                      ${g&&f==="incorrect"&&s===t?"bg-green-100":""}
                    `,children:s},s))})]})]})}),i==="end"&&e.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6 text-center",children:"המשחק נגמר!"}),e.jsxs("div",{className:"text-xl text-center mb-8",children:[e.jsxs("div",{className:"font-bold text-2xl mb-2",children:["הניקוד הסופי שלך: ",d]}),e.jsxs("div",{className:"text-gray-600",children:["מתוך ",L.length," מילים"]})]}),!v&&e.jsxs("div",{className:"max-w-xs mx-auto mb-8",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"הכנס את שמך לטבלת השיאים:"}),e.jsx("input",{type:"text",value:p,onChange:s=>E(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"השם שלך"}),e.jsx("button",{onClick:H,disabled:!p.trim(),className:"w-full mt-2 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition disabled:opacity-50",children:"שמור תוצאה"})]}),v&&e.jsx("div",{className:"text-center text-green-600 mb-8",children:"התוצאה נשמרה בהצלחה!"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"סיכום המשחק:"}),e.jsx("div",{className:"space-y-4",children:Object.keys(w).map(s=>{const r=L.filter(o=>o.layer===s);return r.length===0?null:e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-bold mb-2",children:s}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((o,c)=>e.jsx("span",{className:`px-3 py-1 rounded-full font-medium ${o.correct?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`,children:o.word},c))})]},s)})})]}),j.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"טבלת שיאים:"}),e.jsx("div",{className:"space-y-2",children:j.map((s,r)=>e.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[e.jsx("span",{className:"font-medium",children:s.name}),e.jsxs("span",{children:[s.score," נקודות"]})]},r))})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:P,className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition",children:"שחק שוב"})})]})]})};function re(){return e.jsx("div",{className:"App",children:e.jsx(te,{})})}J.createRoot(document.getElementById("root")).render(e.jsx(Z.StrictMode,{children:e.jsx(re,{})}));
